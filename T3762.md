# 接龙

### 题目描述
蒜头君和花椰妹利用扑克玩接龙游戏。

游戏配置：

1.  有两名玩家；
2.  第一名玩家有 $n$ 张手牌，第二名玩家有 $m$ 张手牌；
3.  每名玩家的初始积分为 $0$；

游戏规则：

1.  两名玩家轮流操作，由第一名玩家开始进行第一次操作；
2.  对于每次操作有两种选择：
    （1）从手牌中拿出一张牌放入桌面牌堆中；
    （2）跳过，此时对手获得「桌面牌堆中牌的数量的积分」，之后桌面牌堆清空；
3.  如果此时桌面牌堆中没有牌，则当前操作的玩家必须进行（1）操作（向桌面牌堆中放入手牌），除非他没有手牌。
4.  当两人均无法得分时，游戏结束。

蒜头君是玩家一、花椰妹玩家二，他们两人均十分聪明，每次都选择**最优的操作**，问最后蒜头君的积分减去花椰妹的积分的**最大差值**是多少。

### 输入格式

本题共有 $T$ 组数据。

第一行输入一个正整数 $T$，表示数据的组数；

接下来 $T$ 行，每行输入两个整数 $n,m$，表示每组数据，最初时蒜头君的手牌有 $n$ 张，花椰妹的手牌有 $m$ 张。

### 输出格式

输出共 $T$ 行，每行输出一个整数，表示每组数据中，蒜头君和花椰妹都选择最优操作时，蒜头君的积分减去花椰妹的积分的最大差值。

### 数据范围

| 测试点 | $T$ | $n,m$ |
| --- | --- | --- |
| $1$ | $ = 1$ | $0\leq n,m\leq 10$ |
| $2$ | $ = 1$ | $0\leq n,m\leq 10$ |
| $3$ | $ = 1$ | $0\leq n,m\leq 10$ |
| $4$ | $ = 10$ | $0\leq n,m\leq 100$ |
| $5$ | $ = 10$ | $0\leq n,m\leq 100$ |
| $6$ | $ = 100$ | $0\leq n,m\leq 100$ |
| $7$ | $ = 1$ | $0\leq n,m\leq 1000$ |
| $8$ | $ = 100000$ | $0\leq n,m\leq 1000$ |
| $9$ | $ = 100000$ | $0\leq n,m\leq 100000$ |
| $10$ | $ = 100000$ | $0\leq n,m\leq 100000$ |

<div style="page-break-after: always"></div>

### 题解
`暴搜`：枚举出不出牌，或者打个表也行，能拿到 $30$ 分。

`DP`: 设 `f[i][j][k]` 表示先出牌的人手里有 $i$ 张牌，另一个人手里有 $j$ 张牌，牌堆中有 $k$ 张牌的情况下，先出牌的人最优情况是什么，然后两种情况转移一下就好了，答案为 `f[n][m][0]`，复杂度 $O(nm \max(A,B))$，预处理之后可以拿到 $60$ 分。

$80$ 分是给找到奇怪的规律优化 `DP` 的人。

其实直接分析或者找规律可以发现，无论什么情况下，**牌少的那一方都会选择先不出牌**，因为这时候出牌没意义，等到对方消耗下来再出击，然后这时对方的牌又少了，所以也会选择不出牌，然后两人互相进行最优解…

当两人中有一个人手牌为 $0$ 时，对方一直得分，那么答案为 $n - m$。

当 $n > m$ 时，花椰妹一直选择不出牌，直到 $n \leq m$，此时蒜头君可以获得 $n - m$ 分，蒜头君先手。

问题就归到 $n \leq m$ 的情况，这个时候蒜头君先手，出一张牌后，蒜头君的手牌小于花椰妹的手牌。这个时候花椰妹可以选择破坏蒜头君的最优状态（选择不出牌，这样下一次蒜头君就必须要出牌），这时候蒜头君能得 $n - 1$ 分，花椰妹可以得 $m + 1$ 分。答案为：$n - m - 2$。

结论：当有人没有手牌的时候，答案为 `n - m`，否则答案为 `n - m - 2`。


#### 参考代码

```c++{.line-numbers}
#include <bits/stdc++.h>
using namespace std;
int main() {
    freopen("card.in", "r", stdin);
    freopen("card.out", "w", stdout);
    int T, n, m;
    cin >> T;
    while (T--) {
        cin >> n >> m;
        if (n == 0 || m == 0) {
            cout << n - m << endl;
        } else {
            cout << n - m - 2 << endl;
        }
    }
    return 0;
}
```

<div style="page-break-after: always"></div>
