# 互不相同

### 题目描述

贪玩的蒜头君决定玩花椰妹给他的数组。

给定 $n$ 个数组成的数组 $a$ ,其中 $a$ 中的每个数仅为 $1,2,3$ 中的一个,蒜头君可以通过如下多次操作修改数组 $a$ 中的数的值：每次操作，可以选择 $a$ 中的一个元素，并且修改为 $1,2,3$ 中的任意一个值。

蒜头君希望经过若干次修改后，数组内的每个元素都是相邻不相同的，相邻不相同的定义为:

对于 $i\in[2,n-1],a[i]\neq a[i-1]$ 并且 $a[i]\neq a[i+1]$

并且 $a[1]\neq a[2],a[n]\neq a[n-1]$

蒜头君很懒，希望使得数组内每个元素相邻不相同的操作次数最少，请你通过编程找到这个值。

### 输入格式

第一行个整数 $n$ ，代表数组的长度。

第二行 $n$ 个整数，代表数组 $a$ 中的元素。

### 输出格式

一行一个正整数，代表最少的操作次数。

### 数据范围

对于 $100\\%$ 的数据，保证 $n\le 10^5$。

本题共 $20$ 个测试点，各测试点详细信息见下表。

| 测试点编号 | $n\le$ | $a$中的元素 |
| --- | --- | --- |
| $1$ | $10$ | 由 $1$ 组成 |
| $2$ | $10$ | 由 $2$ 组成 |
| $3$ | $10$ | 由 $3$ 组成 |
| $4$ | $10$ | 由 $1,2,3$ 组成 |
| $5$ | $10$ | 由 $1,2,3$ 组成 |
| $6$ | $10$ | 由 $1,2,3$ 组成 |
| $7$ | $10^5$ | 由 $1$ 组成 |
| $8$ | $10^5$ | 由 $2$ 组成 |
| $9$ | $10^5$ | 由 $3$ 组成 |
| $10$ | $10^5$ | 前 $50000$ 个元素由 $1$ 组成，后 $50000$ 个元素由 $2$ 组成 |
| $11$ | $10^5$ | 由 $1,2,3$ 组成 |
| $12$ | $10^5$ | 由 $1,2,3$ 组成 |
| $13$ | $10^5$ | 由 $1,2,3$ 组成 |
| $14$ | $10^5$ | 由 $1,2,3$ 组成 |
| $15$ | $10^5$ | 由 $1,2,3$ 组成 |
| $16$ | $10^5$ | 由 $1,2,3$ 组成 |
| $17$ | $10^5$ | 由 $1,2,3$ 组成 |
| $18$ | $10^5$ | 由 $1,2,3$ 组成 |
| $19$ | $10^5$ | 由 $1,2,3$ 组成 |
| $20$ | $10^5$ | 由 $1,2,3$ 组成 |


<div style="page-break-after: always"></div>

### 题解
让我们将初始数组分成连续相同数字的块。例如，如果我们有`2 2 3 3 3 1 1 2 2 2 2` ，则有 $4$ 个块：第一个块是两个 $2$ ，第二个块是三个 $3$ ，第三个块是两个 $1$ ，最后一个块是四个 $2$。  
让我们看看当前块（假设它的长度为 $len$ ），并考虑两种情况。

第一种情况是这个块的长度为奇数。那么它看起来像`XXXXXXX`。那么，我们需要最少多少次重新修改才能使这个块正确？它是 $\left\lfloor\frac{len}{2}\right\rfloor$ 。为什么我们总是可以用这样次数的重新修改来使这个块正确？因为我们可以将所有偶数位置的 `X` 重新修改为任何与 `X` 不同的 `Y`。所以我们的块看起来像 `XYXYXYX`。

第二种情况是这个块的长度为偶数。那么它看起来像 `XXXXYYY ... YYY`，其中 `Y` 是下一个块的数字（如果下一个块存在，因为最后一个块没有下一个块）。在这种情况下，需要重新修改的最小次数是 $\frac{\text {len}}{2}$ 。我们如何重新修改这个块以使它正确？让我们再次将所有偶数位置上的 `X` 重新修改为任何与 `X` 和 `Y` 不同的 `Z` 。所以我们的块看起来像 `XZXZYYY ... YYY` 。  
因此，我们需要从左到右迭代所有块，并应用上述算法来重新修改它们。


#### 参考代码

```c++
#include <bits/stdc++.h>
using namespace std;
const int maxn = 100010;
int n, a[maxn];
int main() {
    cin >> n;
    for (int i = 1; i <= n; i++) {
        cin >> a[i];
    }
    int ans = 0;
    for (int i = 2; i <= n; i++) {
        if (a[i] == a[i - 1]) {
            i++;
            ans++;
        }
    }
    cout << ans << endl;
    return 0;
}
```

<div style="page-break-after: always"></div>
