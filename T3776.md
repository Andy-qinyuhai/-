# 新年幸运数

### 题目描述
新年之初，蒜头君和他的朋友们每人选择了一个正整数，作为幸运数。但是他并不知道到底有多少人选择了幸运数。

于是蒜头君询问了 $n$ 个不同的朋友，每个朋友会告诉蒜头君**还有** $a_i$ 个人和自己选择的幸运数相同，每个朋友告诉蒜头君的数字均正确，即除了这 $a_i + 1$ 个人外，其他人选择的幸运数字和第 $i$ 个人的幸运数字不相同。

蒜头君需要通过这些信息，计算出**最少**有多少人选择了幸运数。但是蒜头君不能确定自己计算的结果是否正确，因此需要你也算一算结果，然后和蒜头君核对一下答案。

### 输入格式

第一行输入一个正整数 $n$，表示蒜头君询问的朋友数量。

第二行以空格隔开输入 $n$ 个非负整数 $a_i$，表示和第 $i$ 个人选择了相同幸运数的人数（不包含第 $i$ 个人）。

### 输出格式

输出一个正整数，表示你计算出的**最少**有多少人选择了幸运数。

### 数据范围

对于 $10\\%$ 的数据，所有的 $a_i = 0$；

对于另外 $10\\%$ 的数据，所有的 $a_i = 1$；

对于另外 $10\\%$ 的数据，所有的 $a_i$ 互不相同；

对于另外 $10\\%$ 的数据，所有的 $a_i$ 相同且大于等于 $2$；

对于另外 $20\\%$ 的数据， $1\leq n \leq 100, 0\leq a_i \leq 100$；

对于 $100\\%$ 的数据， $1\leq n \leq 10^5,0\leq a_i \leq 10^6$。

<div style="page-break-after: always"></div>

### 题解

因为每个回答都是正确的，所以对于某个幸运数，选择这个数的人数就是固定的，假设为 $num$，那么选择这个幸运数的人，回复的答案均为 $num - 1$。

因此对于相同的 $a_i$，这些人可能选择了同一个幸运数，所以使用桶统计每个 $a_i$ 的出现次数 $cnt[a[i]]$。

因为幸运数可以是任意的正整数，范围非常大，因此无须关注具体选择的幸运数，只需要让种类尽可能少即可。

假设有 $cnt[i]$ 个人回复了 $i$：

*   （1）若 `cnt[i] == i + 1`，此时有 $i + 1$ 个人选择了同一个幸运数；
*   （2）若 `cnt[i] < i + 1`，此时有 $i + 1$ 个人选择了同一个幸运数；
*   （3）若 `cnt[i] > i + 1` 时：
    *   每 $i + 1$ 个人选同一个幸运数 `(cnt[i] / (i + 1)) * (i + 1)`
    *   可能还会剩余一些数 `cnt[i] % (i + 1) != 0`，则剩余人按（2）处理。

此时枚举 $0 \sim 10^6$ 中的每一个数，按照上述规律进行计算即可，注意忽略 `cnt[i] == 0` 的情况。

注意使用 `long long`。

#### 参考代码

```c++
#include <iostream>
using namespace std;
const int maxn = 100010;
const int maxm = 1000010;
int a[maxn], cnt[maxm];
int main() {
    int n;
    cin >> n;
    for (int i = 1; i <= n; i++) {
        cin >> a[i];
        cnt[a[i]]++;
    }
    long long ans = 0;
    for (int i = 0; i < maxm; i++) {
        if (cnt[i]) {
            ans += (cnt[i] / (i + 1)) * (i + 1);
            if (cnt[i] % (i + 1) != 0) {
                ans += i + 1;
            }
        }
    }
    cout << ans << endl;
    return 0;
}
```

<div style="page-break-after: always"></div>
